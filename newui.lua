-- PHUCMAX UI (Fixed + Toggle + Slider + Dropdown + Input Speed)local TweenService = game:GetService("TweenService")local UserInputService = game:GetService("UserInputService")local RunService = game:GetService("RunService")local Players = game:GetService("Players")local Stats = game:GetService("Stats")local LocalPlayer = Players.LocalPlayer-- === FPS label (top) ===local ScreenGui = Instance.new("ScreenGui")ScreenGui.Name = "PHUCMAX_UI"ScreenGui.ResetOnSpawn = falseScreenGui.Parent = game.CoreGuilocal Frame = Instance.new("Frame", ScreenGui)Frame.BackgroundTransparency = 1Frame.AnchorPoint = Vector2.new(0.5, 0)Frame.Position = UDim2.new(0.5, 0, 0, 0)Frame.Size = UDim2.new(0, 400, 0, 40)local Label = Instance.new("TextLabel", Frame)Label.Size = UDim2.new(1,0,1,0)Label.BackgroundTransparency = 1Label.Font = Enum.Font.SourceSansBoldLabel.TextSize = 30Label.RichText = trueLabel.TextStrokeTransparency = 0Label.TextStrokeColor3 = Color3.fromRGB(255,255,255)Label.Text = "PHUCMAX | FPS: 0 | Ping: 0ms"local UIGradient = Instance.new("UIGradient", Label)UIGradient.Color = ColorSequence.new{    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),    ColorSequenceKeypoint.new(0.16, Color3.fromRGB(255, 127, 0)),    ColorSequenceKeypoint.new(0.33, Color3.fromRGB(255, 255, 0)),    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 0)),    ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 0, 255)),    ColorSequenceKeypoint.new(0.83, Color3.fromRGB(75, 0, 130)),    ColorSequenceKeypoint.new(1, Color3.fromRGB(148, 0, 211))}UIGradient.Rotation = 0task.spawn(function()    while task.wait(0.05) do        UIGradient.Rotation = (UIGradient.Rotation + 5) % 360    endend)-- FPS & Ping updatelocal fps, lastUpdate, frames = 0, tick(), 0RunService.RenderStepped:Connect(function()    frames = frames + 1    local now = tick()    if now - lastUpdate >= 1 then        fps = frames        frames = 0        lastUpdate = now        local ping = 0        pcall(function()            ping = math.floor(Stats.Network.ServerStatsItem["Data Ping"]:GetValue())        end)        Label.Text = string.format("PHUCMAX | FPS: %d | Ping: %dms", fps, ping)    endend)-- Clear oldif game.CoreGui:FindFirstChild("PHUCMAX_MAINUI") then game.CoreGui.PHUCMAX_MAINUI:Destroy() endif game.CoreGui:FindFirstChild("PHUCMAX_TOGGLE") then game.CoreGui.PHUCMAX_TOGGLE:Destroy() end-- === Toggle button (draggable) ===local toggleGui = Instance.new("ScreenGui", game.CoreGui)toggleGui.Name = "PHUCMAX_TOGGLE"toggleGui.ResetOnSpawn = falselocal toggleBtn = Instance.new("ImageButton", toggleGui)toggleBtn.Name = "ToggleButton"toggleBtn.Size = UDim2.new(0,45,0,45)toggleBtn.Position = UDim2.new(0,20,0.5,-22)toggleBtn.AnchorPoint = Vector2.new(0,0.5)toggleBtn.Image = "rbxassetid://70869581156112"toggleBtn.BackgroundTransparency = 0.6toggleBtn.BorderSizePixel = 0Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0,12)local uiStroke = Instance.new("UIStroke", toggleBtn)uiStroke.Thickness = 2uiStroke.Color = Color3.fromRGB(135,206,250)-- draggable toggle (separate vars)do    local draggingToggle, dragInputToggle, dragStartToggle, startPosToggle    local function updateToggle(input)        local delta = input.Position - dragStartToggle        toggleBtn.Position = UDim2.new(startPosToggle.X.Scale, startPosToggle.X.Offset + delta.X,                                        startPosToggle.Y.Scale, startPosToggle.Y.Offset + delta.Y)    end    toggleBtn.InputBegan:Connect(function(input)        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then            draggingToggle = true            dragStartToggle = input.Position            startPosToggle = toggleBtn.Position            input.Changed:Connect(function()                if input.UserInputState == Enum.UserInputState.End then draggingToggle = false end            end)        end    end)    toggleBtn.InputChanged:Connect(function(input)        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then            dragInputToggle = input        end    end)    UserInputService.InputChanged:Connect(function(input)        if input == dragInputToggle and draggingToggle then updateToggle(input) end    end)end-- === MAIN UI ===local mainGui = Instance.new("ScreenGui", game.CoreGui)mainGui.Name = "PHUCMAX_MAINUI"mainGui.ResetOnSpawn = falsemainGui.Enabled = true -- show by defaultlocal mainFrame = Instance.new("ImageLabel", mainGui)mainFrame.Name = "MainFrame"mainFrame.Size = UDim2.new(0,400,0,250)mainFrame.Position = UDim2.new(0.5,0,0.5,0)mainFrame.AnchorPoint = Vector2.new(0.5,0.5)mainFrame.Image = "rbxassetid://86753621306939"mainFrame.BackgroundTransparency = 1mainFrame.ScaleType = Enum.ScaleType.CropmainFrame.ClipsDescendants = trueInstance.new("UICorner", mainFrame).CornerRadius = UDim.new(0,20)local mainStroke = Instance.new("UIStroke", mainFrame)mainStroke.Thickness = 3mainStroke.Color = Color3.fromRGB(180,220,255)-- draggable mainFrame (separate vars)do    local draggingMain, dragInputMain, dragStartMain, startPosMain    local function updateMain(input)        local delta = input.Position - dragStartMain        mainFrame.Position = UDim2.new(startPosMain.X.Scale, startPosMain.X.Offset + delta.X,                                        startPosMain.Y.Scale, startPosMain.Y.Offset + delta.Y)    end    mainFrame.InputBegan:Connect(function(input)        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then            draggingMain = true            dragStartMain = input.Position            startPosMain = mainFrame.Position            input.Changed:Connect(function()                if input.UserInputState == Enum.UserInputState.End then draggingMain = false end            end)        end    end)    mainFrame.InputChanged:Connect(function(input)        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then            dragInputMain = input        end    end)    UserInputService.InputChanged:Connect(function(input)        if input == dragInputMain and draggingMain then updateMain(input) end    end)end-- === Tab area & Content area (same layout as original) ===local tabFrame = Instance.new("ScrollingFrame", mainFrame)tabFrame.Name = "TabFrame"tabFrame.Size = UDim2.new(1, -20, 0, 40)tabFrame.Position = UDim2.new(0,10,0,10)tabFrame.BackgroundTransparency = 1tabFrame.ScrollBarThickness = 6tabFrame.ClipsDescendants = truetabFrame.AutomaticCanvasSize = Enum.AutomaticSize.XtabFrame.ScrollingDirection = Enum.ScrollingDirection.Xlocal tabList = Instance.new("UIListLayout", tabFrame)tabList.FillDirection = Enum.FillDirection.HorizontaltabList.SortOrder = Enum.SortOrder.LayoutOrdertabList.Padding = UDim.new(0,10)local contentFrame = Instance.new("ScrollingFrame", mainFrame)contentFrame.Name = "ContentFrame"contentFrame.Size = UDim2.new(1, -20, 1, -70)contentFrame.Position = UDim2.new(0,10,0,50)contentFrame.BackgroundTransparency = 1contentFrame.ScrollBarThickness = 8contentFrame.ClipsDescendants = truecontentFrame.AutomaticCanvasSize = Enum.AutomaticSize.YcontentFrame.ScrollingDirection = Enum.ScrollingDirection.Ylocal contentList = Instance.new("UIListLayout", contentFrame)contentList.SortOrder = Enum.SortOrder.LayoutOrdercontentList.Padding = UDim.new(0,10)contentList.HorizontalAlignment = Enum.HorizontalAlignment.Center-- notify (attach to mainGui)local function notify(msg)    local note = Instance.new("TextLabel", mainGui)    note.Size = UDim2.new(0,250,0,40)    note.Position = UDim2.new(1,-260,1,-60)    note.BackgroundColor3 = Color3.fromRGB(6,50,120)    note.BackgroundTransparency = 0.06    note.Text = msg    note.Font = Enum.Font.GothamBold    note.TextSize = 15    note.TextColor3 = Color3.fromRGB(255,255,255)    Instance.new("UICorner", note).CornerRadius = UDim.new(0,8)    Instance.new("UIStroke", note).Color = Color3.fromRGB(135,206,250)    task.delay(3, function() if note and note.Parent then note:Destroy() end end)end-- Tab & helperslocal tabs = {}local currentTab = nillocal function createTab(name)    local tabBtn = Instance.new("TextButton", tabFrame)    tabBtn.Size = UDim2.new(0,120,1,0)    tabBtn.Text = name    tabBtn.Font = Enum.Font.GothamBold    tabBtn.TextSize = 16    tabBtn.TextColor3 = Color3.fromRGB(0,0,0)    tabBtn.BackgroundColor3 = Color3.fromRGB(255,255,255)    tabBtn.BackgroundTransparency = 0.35    tabBtn.AutoButtonColor = false    Instance.new("UICorner", tabBtn).CornerRadius = UDim.new(0,8)    local stroke = Instance.new("UIStroke", tabBtn)    stroke.Color = Color3.fromRGB(180,220,255)    stroke.Thickness = 1    stroke.Transparency = 0.3    local thisContent = Instance.new("ScrollingFrame", contentFrame) -- parent vào contentFrame    thisContent.Name = name .. "_Content"    thisContent.Size = UDim2.new(1, 0, 1, 0)    thisContent.Position = UDim2.new(0, 0, 0, 0)    thisContent.BackgroundTransparency = 1    thisContent.Visible = false    thisContent.AutomaticCanvasSize = Enum.AutomaticSize.Y    thisContent.ScrollBarThickness = 8    thisContent.ScrollingDirection = Enum.ScrollingDirection.Y    thisContent.ClipsDescendants = true    local list = Instance.new("UIListLayout", thisContent)    list.SortOrder = Enum.SortOrder.LayoutOrder    list.Padding = UDim.new(0,10)    list.HorizontalAlignment = Enum.HorizontalAlignment.Center    tabs[name] = { btn = tabBtn, frame = thisContent }    tabBtn.MouseButton1Click:Connect(function()        for _, data in pairs(tabs) do            if data.frame then data.frame.Visible = false end            if data.btn then data.btn.BackgroundTransparency = 0.35 end        end        thisContent.Visible = true        tabBtn.BackgroundTransparency = 0        currentTab = name        local t1 = TweenService:Create(tabBtn, TweenInfo.new(0.08), {Size = UDim2.new(0,115,1,0)})        local t2 = TweenService:Create(tabBtn, TweenInfo.new(0.1), {Size = UDim2.new(0,120,1,0)})        t1:Play()        t1.Completed:Connect(function() t2:Play() end)    end)    return thisContentendlocal function createButton(parent, text, callback)    local btn = Instance.new("TextButton", parent)    btn.Size = UDim2.new(1, 0, 0, 40)    btn.Text = text    btn.Font = Enum.Font.Gotham    btn.TextSize = 16    btn.TextColor3 = Color3.fromRGB(0,0,0)    btn.BackgroundColor3 = Color3.fromRGB(255,255,255)    btn.BackgroundTransparency = 0.35    btn.AutoButtonColor = false    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)    local stroke = Instance.new("UIStroke", btn)    stroke.Color = Color3.fromRGB(135,206,250)    stroke.Thickness = 1    btn.MouseButton1Click:Connect(function()        local t1 = TweenService:Create(btn, TweenInfo.new(0.08), {Size = UDim2.new(1,0,0,35)})        local t2 = TweenService:Create(btn, TweenInfo.new(0.1), {Size = UDim2.new(1,0,0,40)})        t1:Play()        t1.Completed:Connect(function() t2:Play() end)        if callback then callback() end    end)    return btnendlocal function createToggle(parent, text, default, callback)    local frame = Instance.new("TextButton", parent)    frame.Size = UDim2.new(1,0,0,40)    frame.BackgroundColor3 = Color3.fromRGB(255,255,255)    frame.BackgroundTransparency = 0.35    frame.AutoButtonColor = false    frame.Text = ""    Instance.new("UICorner", frame).CornerRadius = UDim.new(0,8)    Instance.new("UIStroke", frame).Color = Color3.fromRGB(135,206,250)    local label = Instance.new("TextLabel", frame)    label.Size = UDim2.new(1,-80,1,0)    label.Position = UDim2.new(0,12,0,0)    label.BackgroundTransparency = 1    label.Font = Enum.Font.GothamBold    label.Text = text    label.TextSize = 16    label.TextColor3 = Color3.fromRGB(0,0,0)    label.TextXAlignment = Enum.TextXAlignment.Left    local stateBox = Instance.new("TextLabel", frame)    stateBox.Size = UDim2.new(0,60,0,26)    stateBox.Position = UDim2.new(1,-70,0.5,-13)    stateBox.BackgroundColor3 = default and Color3.fromRGB(40,200,40) or Color3.fromRGB(200,40,40)    stateBox.Text = default and "ON" or "OFF"    stateBox.Font = Enum.Font.GothamBold    stateBox.TextSize = 14    stateBox.TextColor3 = Color3.fromRGB(255,255,255)    Instance.new("UICorner", stateBox).CornerRadius = UDim.new(0,6)    local state = default    frame.MouseButton1Click:Connect(function()        state = not state        stateBox.Text = state and "ON" or "OFF"        stateBox.BackgroundColor3 = state and Color3.fromRGB(40,200,40) or Color3.fromRGB(200,40,40)        if callback then callback(state) end    end)    return frameendlocal function createSlider(parent, text, min, max, default, callback)    local frame = Instance.new("Frame", parent)    frame.Size = UDim2.new(1,0,0,54)    frame.BackgroundTransparency = 1    local label = Instance.new("TextLabel", frame)    label.Size = UDim2.new(1,0,0,22)    label.Position = UDim2.new(0,0,0,0)    label.BackgroundTransparency = 1    label.Text = text.." ["..default.."]"    label.Font = Enum.Font.GothamBold    label.TextSize = 16    label.TextColor3 = Color3.fromRGB(0,0,0)    label.TextXAlignment = Enum.TextXAlignment.Left    local sliderBack = Instance.new("Frame", frame)    sliderBack.Size = UDim2.new(1,-16,0,13)    sliderBack.Position = UDim2.new(0,8,0,30)    sliderBack.BackgroundColor3 = Color3.fromRGB(200,220,250)    sliderBack.BackgroundTransparency = 0.25    Instance.new("UICorner", sliderBack).CornerRadius = UDim.new(0,6)    local sliderBar = Instance.new("Frame", sliderBack)    sliderBar.Size = UDim2.new((default-min)/(max-min),0,1,0)    sliderBar.BackgroundColor3 = Color3.fromRGB(40,140,255)    sliderBar.BackgroundTransparency = 0.07    Instance.new("UICorner", sliderBar).CornerRadius = UDim.new(0,6)    local draggingS = false    local function setVal(val)        sliderBar.Size = UDim2.new((val-min)/(max-min),0,1,0)        label.Text = text.." ["..val.."]"        if callback then callback(val) end    end    sliderBack.InputBegan:Connect(function(inp)        if inp.UserInputType == Enum.UserInputType.MouseButton1 or inp.UserInputType == Enum.UserInputType.Touch then            draggingS = true            local px = math.clamp((inp.Position.X - sliderBack.AbsolutePosition.X)/sliderBack.AbsoluteSize.X, 0, 1)            setVal(math.floor((min + (max-min)*px)+0.5))        end    end)    sliderBack.InputEnded:Connect(function(inp)        if inp.UserInputType == Enum.UserInputType.MouseButton1 or inp.UserInputType == Enum.UserInputType.Touch then draggingS = false end    end)    sliderBack.InputChanged:Connect(function(inp)        if (inp.UserInputType == Enum.UserInputType.MouseMovement or inp.UserInputType == Enum.UserInputType.Touch) and draggingS then            local px = math.clamp((inp.Position.X - sliderBack.AbsolutePosition.X)/sliderBack.AbsoluteSize.X, 0, 1)            setVal(math.floor((min + (max-min)*px)+0.5))        end    end)    return frameend-- === Add demo tabs & features (keeps layout identical) ===local infoContent = createTab("Info")createButton(infoContent, "Thông tin", function() notify("Info") end)createButton(infoContent, "by PHUCMAX tổng hợp hơn 50 script", function() notify("PHUCMAX") end)createButton(infoContent, "Copy Link Discord", function()    pcall(function() setclipboard("https://discord.gg/a7rtPheBY6") end)    notify("Đã copy link Discord!")end)local bfContent = createTab("Blox Fruit")createButton(bfContent, "nhattrai của ad", function()    notify("Đang tải script...")    pcall(function()        loadstring(game:HttpGet("https://raw.githubusercontent.com/phuccodelo2/Phucmaxdepzai/refs/heads/main/nhattrai91.lua"))()    end)    notify("Script đã chạy (nếu không lỗi)!")end)-- Demo tab with slider, dropdown, inputlocal demoContent = createTab("Demo")-- Long translucent UI toggle button across mainFrame (positioned inside content area top)local longToggle = Instance.new("TextButton", demoContent)longToggle.Size = UDim2.new(1, -20, 0, 36)longToggle.Position = UDim2.new(0, 10, 0, 6)longToggle.BackgroundColor3 = Color3.fromRGB(50,50,50)longToggle.BackgroundTransparency = 0.35longToggle.Text = "Ẩn/Hiện Content"longToggle.Font = Enum.Font.GothamBoldlongToggle.TextSize = 16longToggle.TextColor3 = Color3.fromRGB(255,255,255)Instance.new("UICorner", longToggle).CornerRadius = UDim.new(0,8)Instance.new("UIStroke", longToggle).Color = Color3.fromRGB(135,206,250)local contentVisible = truelongToggle.MouseButton1Click:Connect(function()    contentVisible = not contentVisible    -- hide/show content area (keeps tabs visible)    contentFrame.Visible = contentVisible    notify("Content " .. (contentVisible and "Hiện" or "Ẩn"))end)-- Slider demo (mobile friendly)local sliderDemo = createSlider(demoContent, "Tốc độ kéo (demo)", 10, 200, 30, function(val)    notify("Slider demo: "..val)end)-- Dropdown list demo (toggle select items)local dropBtn = createButton(demoContent, "Danh sách chọn (mở/đóng)", nil)local dropFrame = Instance.new("Frame", demoContent)dropFrame.Size = UDim2.new(1, -20, 0, 0) -- start collapsed (height will expand)dropFrame.Position = UDim2.new(0, 10, 0, 56 + 54) -- below toggle & slider (approx)dropFrame.BackgroundTransparency = 1Instance.new("UICorner", dropFrame).CornerRadius = UDim.new(0,8)local options = {"Táo","Chuối","Xoài","Cam"}local selected = {}local optionButtons = {}local function layoutDrop()    local h = #options * 28    dropFrame.Size = UDim2.new(1, -20, 0, h)    for i,opt in ipairs(options) do        local btn = optionButtons[i]        if not btn then            btn = Instance.new("TextButton", dropFrame)            btn.Size = UDim2.new(1, 0, 0, 26)            btn.Position = UDim2.new(0, 0, 0, (i-1)*28)            btn.Font = Enum.Font.Gotham            btn.TextSize = 14            btn.BackgroundColor3 = Color3.fromRGB(70,70,70)            btn.TextColor3 = Color3.fromRGB(255,255,255)            btn.Text = "[ ] "..options[i]            optionButtons[i] = btn            btn.MouseButton1Click:Connect(function()                local name = options[i]                if selected[name] then                    selected[name] = nil                    btn.Text = "[ ] "..name                else                    selected[name] = true                    btn.Text = "[✔] "..name                end            end)        else            btn.Position = UDim2.new(0,0,0,(i-1)*28)            btn.Text = (selected[options[i]] and "[✔] " or "[ ] ") .. options[i]        end    endendlayoutDrop()dropFrame.Visible = falsedropBtn.MouseButton1Click:Connect(function()    dropFrame.Visible = not dropFrame.Visibleend)-- Button to toggle all selected items ON/OFF (demo behavior)local toggleSelectedBtn = createButton(demoContent, "Bật/Tắt các món đã chọn", function()    local any = false    for k,v in pairs(selected) do if v then any = true break end end    if not any then notify("Chưa chọn món nào!") return end    -- flip enabled state table: we'll keep an 'enabled' table    demoContent._enabled = demoContent._enabled or {}    for item,_ in pairs(selected) do        demoContent._enabled[item] = not demoContent._enabled[item]    end    notify("Đã toggle trạng thái cho các mục đã chọn.")end)-- Input box + apply speed buttonlocal inputBox = Instance.new("TextBox", demoContent)inputBox.Size = UDim2.new(1, -20, 0, 36)inputBox.Position = UDim2.new(0,10,0, ( #options * 28 ) + 120) -- put below dropdown areainputBox.PlaceholderText = "Nhập speed (VD: 16)"inputBox.Font = Enum.Font.GothaminputBox.TextSize = 16inputBox.TextColor3 = Color3.fromRGB(0,0,0)inputBox.BackgroundColor3 = Color3.fromRGB(255,255,255)inputBox.BackgroundTransparency = 0.35Instance.new("UICorner", inputBox).CornerRadius = UDim.new(0,8)local applySpeedBtn = createButton(demoContent, "Áp dụng Speed nhập", function()    local spd = tonumber(inputBox.Text)    if not spd then notify("Nhập số hợp lệ!") return end    -- apply to player humanoid if exists    local char = LocalPlayer and LocalPlayer.Character    if char and char:FindFirstChild("Humanoid") then        char.Humanoid.WalkSpeed = spd        notify("Speed đặt: "..spd)    else        notify("Không tìm thấy nhân vật để đặt speed!")    endend)-- Hook toggleBtn click => open/close mainGuitoggleBtn.MouseButton1Click:Connect(function()    mainGui.Enabled = not mainGui.Enabled    notify("UI " .. (mainGui.Enabled and "Hiện" or "Ẩn"))end)-- Show first tab by defaulttask.defer(function()    local first = true    for name, data in pairs(tabs) do        if first then            data.frame.Visible = true            if data.btn then data.btn.BackgroundTransparency = 0 end            currentTab = name            first = false        else            if data.frame then data.frame.Visible = false end            if data.btn then data.btn.BackgroundTransparency = 0.35 end        end    endend)notify("PHUCMAX UI sẵn sàng!")